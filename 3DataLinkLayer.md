##DataLink 

###基本概念，三个基本问题
  仅仅关心数据帧的传递 <br/>
  数据链路层使用的信道主要有以下两种类型： 点对点信道，广播信道   <br/>
  __链路:__点到点的物理线路段，链路是一条通路的一个组成部分。      <br/>
  __数据链路:__除了物理线路外，还必须要通信协议来控制这些数据的传输。把实现这些协议的软件和硬件加到链路上，就构成了数据链路。常用适配器即网卡实现这些协议的硬件和软件。  <br/>

  ![](https://i.imgur.com/TddiCOt.png)
  
  __三个基本问题：__封装成帧，透明传输，差错控制。  <br/>

  __封装成帧：__数据添加首尾，确定帧的界限。       <br/>

  ![](https://i.imgur.com/LUi8j4F.png)

  __透明传输：__头和尾的数据不能存在于帧数据中               <br/>


  __差错控制：__ 循环冗余检验(CRC)广泛用于数据差错检验。

  ___\*CRC算法掌握___   <br/>


  
###使用场景
  __1.点到点PPP(PointToPointProtocol)：__一种应用场合：家庭直接拨号到ISP请求上网。 <br/>
  __特性：__
  简单，封装成帧，透明性，支持多种网络层协议，支持多种类型链路（多种传输线路），差错检验，检查连接状态，最大传送单元，网络层地址协商，数据压缩协商。             <br/>
  __组成：__网络控制协议(NCP)，链路控制协议(LCP)，高级数据链路控制协议(HDLC)。     <br/>
  __透明传输的两种方法:__字节填充（转义），零比特填充。           <br/>
  __PPP工作状态：__  <br/>
  
  ![](https://i.imgur.com/sDkf6qV.png)
  
  __2.广播信道的数据链路层：__  <br/>
  
  ___局域网拓扑：____星形网_，_环型网_，_总线型_，_树形网_。目前主要以星型网为主。  <br/>
  ___与广域网区别：___花钱租带宽，花钱买设备。    <br/>
  ___局域网优点与特点：___单位拥有，地理范围，站点数目有限。广播功能；便于扩展和演变，设备位置灵活调整  <br/>
  ___共享通信媒体：___静态信道划分不适用（XX复用）。动态媒体介入控制（多点接入）：随机接入主要被以太网采用   <br/>
  ___以太网通信协议：___载波监听多点接入/碰撞监测（CSMA/CD协议）。多点接入，计算机以多点接入的方式连接在一根总线上。载波监听：发送数据之前要监测总线是否有其他计算机在发送数据，如果有，暂时不发送，以免发生碰撞（防止数据信号叠加）。只能以 _半双工通信_。

  
  ![](https://i.imgur.com/sMsjG5o.png)

  ![](https://i.imgur.com/p7RHkYI.png)

###以太局域网
  __1.概述：__以太网两标准；以太网与数据链路层的两个子层：逻辑链路控制（LLC），媒体介入控制（MAC）。  <br/>
  ___以太网提供的服务：___以太网提供的服务是不可靠的交付，即尽最大努力的交付；当接收站收到有差错的数据帧时就丢弃此帧，其他什么也不做。差错的纠正由高层来决定。例如：高层发现丢失一些数据而进行重传，但以太网并不知道这是一个重传的帧，而是当作一个新的数据帧来发送。  <br/>

  __2.拓扑：__中心设备集线器（已弃用），所有机器连在集线器上；逻辑上仍然是一个总线网，各工作使用的还是CSMA/CD协议，并共享逻辑上的总线；很像多接口转发器，工作在物理层。  <br/>

  __3.信道利用率：__

  ![](https://i.imgur.com/64YVa7w.png)

  ![](https://i.imgur.com/Aqb7K8H.png)
  
  ![](https://i.imgur.com/5OD3YO6.png)

  ![](https://i.imgur.com/O2EfqAj.png)

  __4.MAC层：__  <br/>

  ___MAC层的硬件地址（MAC地址）：___厂家3个字节，高24位；厂家指派后三个字节，低24位；  <br/>
  ___适配器检查MAC地址：___适配器从网络上收到MAC帧，首先用硬件检查MAC帧中的MAC地址查看是否是发往本站的帧。如果是则收下做进一步处理，不是则丢弃且不做处理。                   <br/>

  ___掌握查看MAC地址与“修改MAC地址”___  <br/>  

  ___发往本站的帧：___单播帧，一对一；广播帧（48位全1），一对全体；多播帧，一对多；  <br/>
  ___MAC帧格式：___  <br/>

  _两种标准以太网的帧格式：_

  ![](https://i.imgur.com/yO1mL4M.png)

  ![](https://i.imgur.com/SkiMZ3l.png)
  
###扩展以太网
  __1.在物理层考虑扩展：__主机使用光纤和一对光纤调制解调器（光电转换）连接到集线器；考虑更大的集线器。  <br/>

  ![](https://i.imgur.com/YsZpsNs.png)

  ![](https://i.imgur.com/oVFYOwx.png)

  
  ___物理层考虑扩展的优缺点：___优点，跨碰撞域通信，扩大局域网覆盖地理范围；缺点：冲突域增大了，总吞吐量未提高，如果不同碰撞域使用不同的数据率，就不能用集线器将它们互联起来。
  
  _不宜使用上面的模型。虽然能跨更远的距离传输，但是冲突问题更加严重。只要这16台机器中任意两台通信，其它的机器就不能通信了。_  <br/>   
  
  __2.数据链路层扩展：__使用___网桥___  <br/>
  
  ![](https://i.imgur.com/QuD9UVg.png)
  
  ![](https://i.imgur.com/zckyDUU.png)
  
  ___网桥的自学习算法：___   <br/>
  
  ![](https://i.imgur.com/sv1Xit2.png)
  
  ___交换机：___网桥的口直接接计算机，那么每台计算机都单独成一个冲突域；足够多接口的网桥演变成现在的交换机；交换机就是高速的网桥；
  
  ___\*PacketTracer实践：查看交换机MAC地址表___

  ___\*网桥的生成树算法：___防止转发的帧不断地在网络中转形成环，白白浪费网络资源。

  ___\*PacketTracer实践：在交换机上实现生成树算法。并且查看交换机的生成树。更改生成树成员优先级。___
  
  ___虚拟局域网（VLAN）：___局域网提供给用户的一种服务，并非一种新型的局域网。
  
  ![](https://i.imgur.com/mMdcEQ8.png)
  
  ![](https://i.imgur.com/IVXOmxX.png)
  
  ___\*PacketTracer实践：交换机上创建并管理VLAN___

  ___VLAN干道链路与访问链路...___
  
###高速以太网
